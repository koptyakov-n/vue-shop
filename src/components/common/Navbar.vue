<template>
  <div id="nav" class="nav">
    <div class="nav--container">
      <div class="nav--left">
        <router-link to="/" class="nav--logo">
          <span class="nav--colored-logo">Mind</span>Store
        </router-link>
        <button class="nav--menu-btn" :class="{'nav--menu-btn__active': isMenuOpen}" @click="isMenuOpen = !isMenuOpen">
          Каталог
        </button>
        <button class="btn nav--search-show">
          <svg width="38" height="38" viewBox="0 0 38 38" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M29.5073 27.91L25.4057 23.7667C26.729 22.0586 27.4471 19.9492 27.4444 17.7778C27.4444 15.8439 26.8784 13.9535 25.818 12.3455C24.7575 10.7376 23.2503 9.48435 21.4868 8.74429C19.7234 8.00424 17.7829 7.8106 15.9108 8.18788C14.0388 8.56516 12.3192 9.4964 10.9695 10.8638C9.61979 12.2313 8.70064 13.9735 8.32826 15.8702C7.95589 17.7669 8.147 19.7329 8.87745 21.5196C9.60789 23.3062 10.8449 24.8333 12.4319 25.9077C14.019 26.9821 15.8849 27.5556 17.7936 27.5556C19.9369 27.5583 22.0188 26.8308 23.7047 25.49L27.7943 29.6456C27.9064 29.7601 28.0398 29.851 28.1868 29.9131C28.3338 29.9751 28.4915 30.0071 28.6508 30.0071C28.81 30.0071 28.9677 29.9751 29.1147 29.9131C29.2617 29.851 29.3951 29.7601 29.5073 29.6456C29.6203 29.5319 29.7101 29.3968 29.7713 29.2478C29.8326 29.0989 29.8641 28.9391 29.8641 28.7778C29.8641 28.6164 29.8326 28.4567 29.7713 28.3077C29.7101 28.1588 29.6203 28.0236 29.5073 27.91ZM10.5555 17.7778C10.5555 16.3274 10.98 14.9096 11.7754 13.7036C12.5707 12.4976 13.7011 11.5577 15.0237 11.0027C16.3463 10.4476 17.8016 10.3024 19.2057 10.5854C20.6098 10.8683 21.8995 11.5667 22.9117 12.5923C23.924 13.6179 24.6133 14.9246 24.8926 16.3471C25.1719 17.7696 25.0286 19.2441 24.4807 20.5841C23.9329 21.9241 23.0052 23.0694 21.8149 23.8752C20.6246 24.681 19.2252 25.1111 17.7936 25.1111C15.874 25.1111 14.0329 24.3385 12.6755 22.9632C11.3181 21.588 10.5555 19.7227 10.5555 17.7778Z" fill="#333333"/>
          </svg>
        </button>
        <div class="nav--search">
          <button class="btn nav--search-btn">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M20.71 19.29L17.31 15.9C18.407 14.5025 19.0022 12.7767 19 11C19 9.41775 18.5308 7.87103 17.6518 6.55544C16.7727 5.23985 15.5233 4.21447 14.0615 3.60897C12.5997 3.00347 10.9911 2.84504 9.43928 3.15372C7.88743 3.4624 6.46197 4.22433 5.34315 5.34315C4.22433 6.46197 3.4624 7.88743 3.15372 9.43928C2.84504 10.9911 3.00347 12.5997 3.60897 14.0615C4.21447 15.5233 5.23985 16.7727 6.55544 17.6518C7.87103 18.5308 9.41775 19 11 19C12.7767 19.0022 14.5025 18.407 15.9 17.31L19.29 20.71C19.383 20.8037 19.4936 20.8781 19.6154 20.9289C19.7373 20.9797 19.868 21.0058 20 21.0058C20.132 21.0058 20.2627 20.9797 20.3846 20.9289C20.5064 20.8781 20.617 20.8037 20.71 20.71C20.8037 20.617 20.8781 20.5064 20.9289 20.3846C20.9797 20.2627 21.0058 20.132 21.0058 20C21.0058 19.868 20.9797 19.7373 20.9289 19.6154C20.8781 19.4936 20.8037 19.383 20.71 19.29V19.29ZM5 11C5 9.81331 5.3519 8.65328 6.01119 7.66658C6.67047 6.67989 7.60755 5.91085 8.7039 5.45673C9.80026 5.0026 11.0067 4.88378 12.1705 5.11529C13.3344 5.3468 14.4035 5.91825 15.2426 6.75736C16.0818 7.59648 16.6532 8.66557 16.8847 9.82946C17.1162 10.9933 16.9974 12.1997 16.5433 13.2961C16.0892 14.3925 15.3201 15.3295 14.3334 15.9888C13.3467 16.6481 12.1867 17 11 17C9.4087 17 7.88258 16.3679 6.75736 15.2426C5.63214 14.1174 5 12.5913 5 11Z" fill="#FB6900"/>
            </svg>
          </button>
          <input type="text" class="nav--search-input" placeholder="Найти ssd">
        </div>
      </div>
      <div class="nav--right">
        <button class="btn nav--btn nav--btn__account">
          <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" clip-rule="evenodd" d="M19.5431 7.32956C12.2837 7.32956 6.39197 13.2213 6.39197 20.4807C6.39197 27.7401 12.2837 33.6319 19.5431 33.6319C26.8025 33.6319 32.6943 27.7401 32.6943 20.4807C32.6943 13.2213 26.8025 7.32956 19.5431 7.32956ZM8.74847 20.359C8.74847 14.3972 13.5814 9.56429 19.5432 9.56429C20.2884 9.56429 21.016 9.6398 21.7187 9.7836C23.204 10.0875 24.5781 10.6965 25.7729 11.5422C28.5349 13.4973 30.3379 16.7176 30.3379 20.359C30.3379 26.3207 25.505 31.1537 19.5432 31.1537C19.5432 31.1537 19.5432 31.1537 19.5432 31.1537C17.1977 31.1537 15.0268 30.4056 13.2563 29.135C10.5266 27.1761 8.74847 23.9752 8.74847 20.359Z" fill="#333333"/>
            <path d="M23.4563 15.7058C23.4563 13.5227 21.694 11.7605 19.511 11.7605C17.3279 11.7605 15.5656 13.5227 15.5656 15.7058C15.5656 17.8889 17.3279 19.6511 19.511 19.6511C21.694 19.6511 23.4563 17.8889 23.4563 15.7058Z" fill="#333333"/>
            <path d="M15.0655 28.7206C16.4423 29.4595 17.9805 29.8462 19.5431 29.8462C21.1056 29.8462 22.6439 29.4595 24.0207 28.7206C25.3975 27.9817 26.57 26.9136 27.4337 25.6115C27.3943 22.9944 22.1601 21.5609 19.5431 21.5609C16.9128 21.5609 11.6918 22.9944 11.6524 25.6115C12.5161 26.9136 13.6887 27.9817 15.0655 28.7206Z" fill="#333333"/>
          </svg>


          <span class="nav--btn-span">Никита</span>
        </button>

        <button class="btn nav--btn nav--btn__cart" @click="isCartOpen = true">
          <svg width="41" height="40" viewBox="0 0 41 40" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M9.40127 14.8933C9.42809 14.5592 9.57977 14.2474 9.82612 14.0201C10.0725 13.7928 10.3954 13.6666 10.7306 13.6667H29.2693C29.6045 13.6666 29.9274 13.7928 30.1738 14.0201C30.4201 14.2474 30.5718 14.5592 30.5986 14.8933L31.7679 29.4533C31.7974 29.8202 31.7505 30.1893 31.6304 30.5372C31.5102 30.8852 31.3193 31.2045 31.0697 31.475C30.8201 31.7455 30.5171 31.9615 30.18 32.1092C29.8428 32.2569 29.4787 32.3332 29.1106 32.3333H10.8893C10.5212 32.3332 10.1571 32.2569 9.81991 32.1092C9.48275 31.9615 9.17982 31.7455 8.9302 31.475C8.68058 31.2045 8.48967 30.8852 8.3695 30.5372C8.24932 30.1893 8.20249 29.8202 8.23194 29.4533L9.39994 14.8933H9.40127Z" stroke="#333333" stroke-width="2.66667" stroke-linecap="round" stroke-linejoin="round"/>
            <path d="M25.3333 17.6667V11C25.3333 9.5855 24.7714 8.22895 23.7712 7.22875C22.771 6.22856 21.4144 5.66666 20 5.66666C18.5855 5.66666 17.2289 6.22856 16.2287 7.22875C15.2285 8.22895 14.6666 9.5855 14.6666 11V17.6667" stroke="#333333" stroke-width="2.66667" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
          <span class="nav--btn-span">Корзина</span>
          <span v-show="cartCounter" class="nav--cart-count">{{ cartCounter }}</span>
        </button>
      </div>
    </div>

    <MenuModal v-show="isMenuOpen" :open="isMenuOpen" @close-modal="isMenuOpen = false" />
    <Cart v-show="isCartOpen" :open="isCartOpen" @cart-close="isCartOpen = false" @cart-updated="updateCartCounter"/>
  </div>
</template>

<script>
import MenuModal from '@/components/common/MenuModal'
import Cart from '@/components/common/Cart'

export default {
  name: 'navbar',
  data() {
    return {
      isMenuOpen: true,
      isCartOpen: false,
      cartCounter: 0
    }
  },
  methods: {
    updateCartCounter(count){
      this.cartCounter = count;
    }
  },
  components: {
    MenuModal, Cart
  }
}
</script>

<style lang="scss" scoped>
 
</style>